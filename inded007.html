<!DOCTYPE html>
<html>
<head>
    <title>Trailer Tempature</title>
    <link rel="stylesheet" href="integrationExample.css" />
    <script>
     api.call("Get", {
 "typeName": "StatusData",
 "search": {
 "deviceSearch": {"id":"b1"},
 "diagnosticSearch": {"id":"amxN-4GzMDkCSW-lOr4Cwzg"},
 "fromDate":"2019-12-12T00:00:00.000Z",
 "toDate":"2019-12-13T00:00:00.000Z",
 }
}, function(result) {
 console.log("Done: ", result);
}, function(e) {
 console.error("Failed:", e);
});
                },
                refreshPage = function() {
                    api.call("Get", {
                        typeName: "Device"
                    }, function(result) {
                        center.addEventListener("click", goToVehicles, false);
                        center.appendChild(listCreator(result));
                    }, function(error) {
                        console.log(error.message);
                    });
                },
                clearOnLeaving = function() {
                    center.removeEventListener("click", goToVehicles, false);
                    center.innerHTML = "";
                };

            return {
                initialize: (api, state, callback) {
                    document.getElementById("vehiclesButton")
                        .addEventListener("click", function() {
                            state.gotoPage("devices");
                        }, false);
                    callback();
                },
                focus: function(api, state) {
                    refreshPage();
                },
                blur: function(api, state) {
                    clearOnLeaving();
                }
            }
        };
    </script>
</head>
<body>
    <div id="center">
        <button id="vehiclesButton">Go to vehicles page</button>
    </div>
</body>
</html>
